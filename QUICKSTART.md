# QuantSage Quick Start Guide

Get up and running with QuantSage in 5 minutes!

## Prerequisites

- Python 3.8 or higher
- Virtual environment (recommended)

## Setup (One-Time)

```bash
# 1. Create and activate virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# 2. Install dependencies
pip install -r requirements.txt

# 3. Initialize database
python scripts/init_db.py
```

That's it! You're ready to go.

## Running the System

### Option 1: See the Dashboard (Recommended First Step)

```bash
python scripts/run_dashboard.py
```

Then open your browser to: **http://localhost:8050**

You'll see the trading dashboard with portfolio metrics, charts, and tables. It will be empty at first.

### Option 2: Run Paper Trading Demo

In a new terminal (keep the dashboard running), start the paper trading simulation:

```bash
python scripts/paper_trading_demo.py
```

This simulates 20 bars of market data and executes trades. Watch the dashboard auto-update every 5 seconds!

### Option 3: Both at Once (The Full Experience)

**Terminal 1:**
```bash
python scripts/run_dashboard.py
```

**Terminal 2:**
```bash
python scripts/paper_trading_demo.py
```

**What to expect:**
- Terminal 2 shows trading activity (signals, orders, fills)
- Browser shows real-time updates on the dashboard
- Portfolio value, P&L, and positions update live
- You can see the equity curve grow (or shrink!)

## What You'll See

### In the Dashboard:
- **Portfolio Cards**: Total value, cash, P&L, positions count
- **Equity Curve**: Interactive chart of portfolio value over time
- **Open Positions**: Current trades with real-time P&L
- **Recent Signals**: Trading signals from the strategy
- **Recent Trades**: Executed trades with prices and commissions
- **Performance Metrics**: Win rate, profit factor, etc.

### In the Terminal (Paper Trading):
- Market data events (simulated price bars)
- Trading signals generated by strategy
- Risk validation results
- Order execution with slippage
- Position updates and P&L
- Final portfolio summary

## Understanding the Output

### Normal Output (Trading Activity):
```
üìä Bar 5/20: BTC/USD @ $48,523.45
üéØ SIGNAL: BUY BTC/USD @ $48,500 (Confidence: 0.85)
‚úÖ RISK: Signal approved
üìù ORDER: BUY 0.2 BTC/USD @ $48,500
‚úÖ FILL: BUY 0.2 BTC/USD @ $48,612.50 (with slippage)
üíº POSITION OPENED: LONG 0.2 BTC/USD
```

### If No Trades Happen:
This is normal! The mean reversion strategy only trades when specific conditions are met:
- Price far from moving average
- RSI oversold/overbought
- Volume confirmation
- Risk limits passed

The simulated data might not always trigger these conditions. Try running it multiple times.

## Next Steps

### Want to Test on Real Historical Data?

1. Collect data:
```bash
python scripts/collect_data_for_backtest.py
```

2. Run backtest:
```bash
python scripts/run_backtest.py \
    --strategy mean_reversion \
    --symbols BTC/USD ETH/USD \
    --start 2024-01-01 \
    --end 2024-12-31
```

3. View backtest results:
```bash
# Find the backtest ID in data/backtests/
python scripts/run_dashboard.py --db data/backtests/backtest_YYYYMMDD_HHMMSS.db
```

### Want to Modify the Strategy?

Edit the parameters in: `config/strategies/mean_reversion_crypto.yaml`

Key settings:
- `bb_period`: Bollinger Bands lookback (default: 20)
- `bb_std`: Standard deviations (default: 2.0)
- `rsi_period`: RSI calculation period (default: 14)
- `rsi_buy_threshold`: Buy when RSI below this (default: 40)
- `rsi_sell_threshold`: Sell when RSI above this (default: 60)

### Want to Add More Strategies?

Check out: `src/strategies/base.py` to see how to create new strategies.

All strategies inherit from `BaseStrategy` and implement `on_market_data()`.

## Troubleshooting

### "Could not find a version that satisfies the requirement ccxt==4.1.0"
**Solution**: This has been fixed. The `requirements.txt` now uses flexible version specifications.
```bash
# Make sure you have the latest requirements.txt
git pull  # if in a git repo
pip install -r requirements.txt
```

### "no such column: direction" error in dashboard
**Solution**: This has been fixed. If you see this error:
```bash
# Stop the dashboard (CTRL+C)
# Restart it
python scripts/run_dashboard.py
```

### "Database not found"
```bash
python scripts/init_db.py
```

### "Module not found"
```bash
pip install -r requirements.txt
```

### Dashboard won't open
- Check that port 8050 is not in use
- Try a different port: `python scripts/run_dashboard.py --port 9000`

### Paper trading shows no activity
- Normal! Strategy conditions might not be met
- Try running multiple times
- Or adjust strategy parameters (see above)

## Documentation

- **[README.md](README.md)** - Complete documentation
- **[ARCHITECTURE.md](docs/ARCHITECTURE.md)** - System design
- **[CLAUDE.md](CLAUDE.md)** - Development guide

## Help

For more details, see the full README or documentation in `/docs/`.

Happy trading! üöÄ
